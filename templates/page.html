<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>{{ scheme_title }}</title>

<style>

/* ===========================
   GLOBAL STYLE — eLTER-RI
   =========================== */

body {
    font-family: "Inter", "Roboto", Arial, sans-serif;
    background: #f4f6f9;
    margin: 0;
    line-height: 1.55;
}

/* ---------- HEADER ---------- */

header {
    background: linear-gradient(90deg, #003c71, #005a9c);
    color: white;
    padding: 35px 45px;
}

header h1 {
    margin: 0;
    font-size: 2.4rem;
    font-weight: 600;
}

header p {
    opacity: 0.9;
    margin: 4px 0;
}

/* ---------- SIDEBAR ---------- */

.sidebar {
    position: fixed;
    right: 0;
    top: 0;
    width: 270px;
    height: 100%;
    overflow-y: auto;
    background: #e8eef5;
    border-left: 1px solid #c2cbd6;
    padding: 25px 20px;
}

.sidebar h2 {
    margin-top: 0;
    font-size: 1.3rem;
    color: #003c71;
    font-weight: 600;
}

.sidebar ul {
    list-style: none;
    padding-left: 0;
}

.sidebar li {
    margin-bottom: 6px;
}

.sidebar a {
    color: #003c71;
    font-weight: 500;
    text-decoration: none;
}

.sidebar a:hover {
    text-decoration: underline;
}

/* ---------- MAIN CONTENT ---------- */

.container {
    margin-right: 300px;
    padding: 45px;
    max-width: 1100px;
}

h2 {
    color: #003c71;
    margin-top: 60px;
    border-bottom: 2px solid #005a9c;
    padding-bottom: 6px;
    font-weight: 600;
}

h3 {
    color: #003c71;
    margin-top: 35px;
    font-weight: 600;
}

/* ---------- TERM BLOCK ---------- */

.term-block {
    background: white;
    padding: 22px 28px;
    border-left: 5px solid #005a9c;
    border-radius: 8px;
    margin-bottom: 40px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.07);
}

.term-block h3 {
    margin-top: 0;
}

/* ---------- BADGES ---------- */

.badge-drf {
    display: inline-block;
    background: #005a9c;
    color: white;
    padding: 3px 8px;
    border-radius: 6px;
    font-size: 0.8rem;
}

/* ---------- TABLE ---------- */

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 12px;
}

th {
    background: #eef3f7;
    width: 180px;
    padding: 10px;
    font-weight: 600;
    border-bottom: 1px solid #d6dbe0;
}

td {
    padding: 10px;
    border-bottom: 1px solid #d6dbe0;
}

td pre {
    background: #f2f4f7;
    padding: 10px;
    border-radius: 6px;
    font-family: "JetBrains Mono", monospace;
}

/* ---------- BUTTON ---------- */

button.copy-btn {
    background: #005a9c;
    color: white;
    padding: 4px 12px;
    border: none;
    border-radius: 6px;
    margin-left: 10px;
    cursor: pointer;
}

button.copy-btn:hover {
    background: #003c71;
}

/* ---------- BREADCRUMB ---------- */

.breadcrumb {
    margin-bottom: 10px;
}

.breadcrumb span {
    background: #e1edf7;
    padding: 2px 8px;
    border-radius: 6px;
    margin-right: 4px;
    font-size: 0.85rem;
}

.breadcrumb a {
    text-decoration: none;
    color: #005a9c;
}

.breadcrumb a:hover {
    text-decoration: underline;
}

</style>
</head>

<body>

<header id="top">
    <h1>{{ scheme_title }}</h1>
    <p><strong>Description:</strong> {{ scheme_desc }}</p>
    <p><strong>Version:</strong> {{ version }}</p>
    <p><strong>Creators:</strong> {{ creators }}</p>
    <p><strong>Contributors:</strong> {{ contributors }}</p>
    <p><strong>Created:</strong> {{ created }}</p>
    <p><strong>Last modified:</strong> {{ modified }}</p>
</header>


<!-- ---------------- Sidebar ---------------- -->

<div class="sidebar">
    <h2>Contents</h2>
    <ul>
        <li><a href="#intro">1 Introduction</a></li>
        <li class="sub"><a href="#namespaces">1.1 Namespaces</a></li>

        <li><a href="#classes">2 List of terms</a></li>
        {% for cls in classes %}
            <li class="sub"><a href="#class-{{ cls.id }}">{{ cls.label }}</a></li>
        {% endfor %}

        <li><a href="#vocabulary">3 Vocabulary</a></li>
        <li class="sub"><a href="#vocabulary-classes">3.1 Classes</a></li>
        <li class="sub"><a href="#vocabulary-concepts">3.2 Concepts</a></li>
    </ul>
</div>


<!-- ---------------- Main Content ---------------- -->

<div class="container">

    <!-- Introduction -->
    <h2 id="intro">1. Introduction</h2>
    <p>This section will contain a general description of the vocabulary.</p>

    <h3 id="namespaces">1.1 Namespaces</h3>
    <ul>
        {% for prefix, ns in namespaces.items() %}
            <li><strong>{{ prefix }}:</strong> {{ ns }}</li>
        {% endfor %}
    </ul>

    <!-- Classes -->
    <h2 id="classes">2. List of terms</h2>

    {% for cls in classes %}
        <h3 id="class-{{ cls.id }}">{{ cls.label }}</h3>

        {% if cls.concepts %}
            <p>
            {% for term in cls.concepts %}
                <a href="#term-{{ term.id }}">{{ term.label }}</a>
                (drf:{{ term.id }})
                {% if not loop.last %} | {% endif %}
            {% endfor %}
            </p>
        {% else %}
            <p><em>No terms listed for this class.</em></p>
        {% endif %}
    {% endfor %}


    <!-- Vocabulary -->
    <h2 id="vocabulary">3. Vocabulary</h2>

    <!-- ============================ -->
    <!-- 3.1 CLASSES -->
    <!-- ============================ -->

    <h3 id="vocabulary-classes">3.1 Classes</h3>

    {% for cl in vocabulary_classes %}
    <div class="term-block" id="vclass-{{ cl.id }}">
        <h3>{{ cl.label }} (drf:{{ cl.id }})</h3>

        <table>
            <tr>
                <th>URI</th>
                <td>
                    <a href="{{ cl.uri }}" target="_blank">{{ cl.uri }}</a>
                    <button class="copy-btn" onclick="copyToClipboard('{{ cl.uri }}')">Copy URI</button>
                </td>
            </tr>
            <tr><th>Definition</th><td>{{ cl.definition }}</td></tr>
            <tr>
                <th>DwC Match</th>
                <td>
                    {% if cl.match != "-" %}
                        <a href="{{ cl.match }}" target="_blank">{{ cl.match }}</a>
                    {% else %}-{% endif %}
                </td>
            </tr>
        </table>
    </div>
    {% endfor %}


    <!-- ============================ -->
    <!-- 3.2 CONCEPTS -->
    <!-- ============================ -->

    <h3 id="vocabulary-concepts">3.2 Concepts</h3>

    {% for t in vocabulary_concepts %}
    <div class="term-block" id="term-{{ t.id }}">
        <h3>{{ t.label }} (drf:{{ t.id }})</h3>

        {% if t.breadcrumb_html %}
            <p><strong>Path:</strong> {{ t.breadcrumb_html | safe }}</p>
        {% endif %}

        <table>
            <tr>
                <th>URI</th>
                <td>
                    <a href="{{ t.uri }}" target="_blank">{{ t.uri }}</a>
                    <button class="copy-btn" onclick="copyToClipboard('{{ t.uri }}')">Copy URI</button>
                </td>
            </tr>

            <tr><th>Definition</th><td>{{ t.definition }}</td></tr>

            <tr>
                <th>Example</th>
                <td>
                    {% if t.example != "-" %}
                        <pre>{{ t.example }}</pre>
                    {% else %}-{% endif %}
                </td>
            </tr>

            <tr>
                <th>Unit</th>
                <td>
                    {% if t.unit != "-" %}
                        <a href="{{ t.unit }}" target="_blank">{{ t.unit }}</a>
                    {% else %}-{% endif %}
                </td>
            </tr>

            <tr>
                <th>Broader</th>
                <td>
                    {% if t.broaders %}
                        {% for b in t.broaders %}
                            <a href="#vclass-{{ b.id }}">drf:{{ b.id }}</a>
                            {% if not loop.last %} | {% endif %}
                        {% endfor %}
                    {% else %}-{% endif %}
                </td>
            </tr>

            <tr><th>Created</th><td>{{ t.creat }}</td></tr>
            <tr><th>Modified</th><td>{{ t.modif }}</td></tr>

            <tr>
                <th>DwC match</th>
                <td>
                    {% if t.match != "-" %}
                        <a href="{{ t.match }}" target="_blank">{{ t.match }}</a>
                    {% else %}-{% endif %}
                </td>
            </tr>

        </table>

        <p><a href="#top">↑ back to top</a></p>
    </div>
    {% endfor %}

</div>

<script>
function copyToClipboard(text) {
    navigator.clipboard.writeText(text);
    alert("Copied: " + text);
}
</script>

</body>
</html>
